<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>layUI表单</title>	
		<script type="text/javascript" src="js/main.js" ></script>
	</head>
	<body>
<form id="mytable" class="layui-form" action="" style="padding: 15px;">
  <div class="layui-form-item">
    <label class="layui-form-label">输入框</label>
    <div class="layui-input-block">
      <input id="title" type="text" name="title" required  lay-verify="required" autocomplete="off" class="layui-input form-control">
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">密码框</label>
    <div class="layui-input-block">
      <input type="password" name="password" required lay-verify="required" autocomplete="off" class="layui-input form-control">
    </div>
    <!--<div class="layui-form-mid layui-word-aux">辅助文字</div>-->
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">选择框</label>
    <div class="layui-input-inline">
      <select name="city" lay-verify="required" class="form-control">
        <option value=""></option>
        <option value="0">北京</option>
        <option value="1">上海</option>
        <option value="2">广州</option>
        <option value="3">深圳</option>
        <option value="4">杭州</option>
      </select>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">复选框</label>
    <div class="layui-input-block">
      <input type="checkbox" name="like[write]" title="写作">
      <input type="checkbox" name="like[read]" title="阅读" checked>
      <input type="checkbox" name="like[dai]" title="发呆">
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">开关</label>
    <div class="layui-input-block">
      <input type="checkbox" name="switch" lay-skin="switch" lay-text="运行中|停止">
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">单选框</label>
    <div class="layui-input-block">
      <input type="radio" name="sex" value="男" title="运行中">
      <input type="radio" name="sex" value="女" title="女" checked>
    </div>
  </div>
  <div class="layui-form-item layui-form-text">
    <label class="layui-form-label">文本域</label>
    <div class="layui-input-block">
      <textarea name="desc" placeholder="请输入内容" class="layui-textarea"></textarea>
    </div>
  </div>
  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn layui-btn-sm   layui-btn-radius" lay-submit lay-filter="formDemo" style="padding: 0px 17px 0px 17px;">立即提交</button>
      <button type="reset" class="layui-btn layui-btn-sm  layui-btn-radius layui-btn-primary" style="padding: 0px 17px 0px 17px;">重置</button>
    </div>
  </div>
</form>
<button id="sss" name="http://127.0.0.1:8020/rent_car/form.html?__hbt=1523416524190">1345646</button>

<script>
	

	
	
$('#sss').click(function(){
  var that = this;
  layer.tips('只想提示地精准些', that); //在元素的事件回调体中，follow直接赋予this即可
  console.log($(this).attr('name'))
   console.log($("select[name='city']").val()+":"+$("input[name='title']").val())
   
   $("select[name='city']").empty();
   form.render();
});


layui.use(['layer', 'form', 'layedit'], function(){
  layer = layui.layer
  ,form = layui.form
  ,layedit = layui.layedit
 
  //……
  //你的代码都应该写在这里面
 /* var obj=$.cookie("myobj");
  var data=JSON.parse(obj)
  console.log(data.id);*/
  //创建一个编辑器
  var editIndex = layedit.build('LAY_demo_editor');
 
 /*layer.ready(function(){
  layer.msg('很高兴一开场就见到你');
}); */ 

  //自定义验证规则
  form.verify({
    title: function(value){
      if(value.length < 5){
        return '标题至少得5个字符啊';
      }
    }
    ,password: [/(.+){6,12}$/, '密码必须6到12位']
    ,content: function(value){
      layedit.sync(editIndex);
    }
  });

   //监听提交
  form.on('submit(formDemo)', function(data){
  
    layer.msg(JSON.stringify(data.field));
    
	
	//当你在iframe页面关闭自身时
	/*var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
	parent.layer.close(index); //再执行关闭   */

    return false;
  });
   form.render();
});

</script>
	</body>
</html>
